!function(){"use strict";var e,t,n,o={567:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.EncodeContents=void 0;var o=n(662),i=function(){function e(){var e=this;this.container=document.getElementById("decode-contents"),this.cookieValueInput=document.getElementById("cookie-value"),this.routeDomainSpanContainer=document.getElementById("route-domain-span-container"),this.routeDomainSpan=document.getElementById("route-domain-span"),this.ipSpan=document.getElementById("ip-span"),this.portSpan=document.getElementById("port-span"),this.cookieInfos=null;var t=function(){return e.onChange()};this.cookieValueInput.addEventListener("change",t),this.cookieValueInput.addEventListener("keyup",t),this.onChange()}return e.prototype.getCookieInfos=function(){return this.cookieInfos},Object.defineProperty(e.prototype,"visibility",{set:function(e){this.container.style.display=e?"":"none"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cookieValue",{set:function(e){this.cookieValueInput.value=e,this.onChange()},enumerable:!1,configurable:!0}),e.prototype.onChange=function(){var e=this.cookieValueInput.value.trim();this.cookieInfos=(0,o.decodeCookie)(e),this.cookieInfos?(this.ipSpan.textContent=this.cookieInfos.ip,this.portSpan.textContent=this.cookieInfos.port.toFixed(),void 0!==this.cookieInfos.routeDomain?(this.routeDomainSpanContainer.style.display="",this.routeDomainSpan.textContent=this.cookieInfos.routeDomain.toFixed()):this.routeDomainSpanContainer.style.display="none"):(this.ipSpan.textContent="<invalid input>",this.portSpan.textContent="<invalid input>",this.routeDomainSpanContainer.style.display="none")},e}();t.EncodeContents=i},634:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.DecodeContents=void 0;var o=n(662),i=function(){function e(){var e=this;this.container=document.getElementById("encode-contents"),this.enableRouteDomainCheckbox=document.getElementById("enable-route-domain"),this.routeDomainInput=document.getElementById("route-domain"),this.ipInput=document.getElementById("ip"),this.portInput=document.getElementById("port"),this.computedResultSpan=document.getElementById("computed-result"),this.encoded=null;var t=function(){return e.onChange()};this.enableRouteDomainCheckbox.addEventListener("change",t),this.routeDomainInput.addEventListener("change",t),this.routeDomainInput.addEventListener("keyup",t),this.ipInput.addEventListener("change",t),this.ipInput.addEventListener("keyup",t),this.portInput.addEventListener("change",t),this.portInput.addEventListener("keyup",t),this.onChange()}return e.prototype.getEncoded=function(){return this.encoded},Object.defineProperty(e.prototype,"visibility",{set:function(e){this.container.style.display=e?"":"none"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cookiesInfo",{set:function(e){"number"==typeof e.routeDomain?(this.enableRouteDomainCheckbox.checked=!0,this.routeDomainInput.value=e.routeDomain.toFixed()):this.enableRouteDomainCheckbox.checked=!1,this.ipInput.value=e.ip,this.portInput.value=e.port.toFixed(),this.onChange()},enumerable:!1,configurable:!0}),e.prototype.onChange=function(){this.routeDomainInput.disabled=!this.enableRouteDomainCheckbox.checked,this.encoded=null;var e=this.ipInput.value.trim();if((0,o.parseIp)(e)){var t={ip:e,port:+this.portInput.value};this.enableRouteDomainCheckbox.checked&&(t.routeDomain=+this.routeDomainInput.value),this.encoded=(0,o.encodeCookie)(t)}this.computedResultSpan.textContent=this.encoded||"<invalid input>"},e}();t.DecodeContents=i},662:function(e,t){function n(e){var t=(e=e.trim()).match(/^([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)$/);if(!t)return null;for(var n=[+t[1],+t[2],+t[3],+t[4]],o=0,i=n;o<i.length;o++){var r=i[o];if(isNaN(r)||r<0||r>255)return null}return n}Object.defineProperty(t,"__esModule",{value:!0}),t.parseIp=t.encodeCookie=t.decodeCookie=void 0,t.decodeCookie=function(e){return function(e){var t=e.match(/^rd([0-9]+)o00000000000000000000ffff([a-fA-F0-9]+)o([0-9]+)$/);if(t){var n=+t[1],o=t[2],i=Number("0x".concat(o));return{ip:[i>>24&255,i>>16&255,i>>8&255,i>>0&255].join("."),port:+t[3],routeDomain:n}}return null}(e)||function(e){var t=e.match(/^([0-9]+)\.([0-9]+).0000$/);if(t){var n=+t[1],o=+t[2];return{ip:[n>>0&255,n>>8&255,n>>16&255,n>>24&255].join("."),port:(o>>8)+((255&o)<<8)}}return null}(e)},t.parseIp=n,t.encodeCookie=function(e){var t=n(e.ip);if(null!==t){if("number"==typeof e.routeDomain){var o=(t[3]+256*(t[2]+256*(t[1]+256*t[0]))).toString(16).padStart(8,"0");return"rd".concat(e.routeDomain,"o00000000000000000000ffff").concat(o,"o").concat(e.port)}o=(t[0]+256*(t[1]+256*(t[2]+256*t[3]))).toFixed();var i=(((255&e.port)<<8)+(e.port>>8&255)).toFixed();return"".concat(o,".").concat(i,".0000")}return null}}},i={};function r(e){var t=i[e];if(void 0!==t)return t.exports;var n=i[e]={exports:{}};return o[e](n,n.exports,r),n.exports}t=r(634),n=r(567),function(e){e[e.NONE=0]="NONE",e[e.DECODE=1]="DECODE",e[e.ENCODE=2]="ENCODE"}(e||(e={})),window.addEventListener("load",(function(){var o=document.getElementById("mode-0"),i=document.getElementById("mode-1"),r=new t.DecodeContents,a=new n.EncodeContents,u=e.NONE;function c(){var t=o.checked?e.DECODE:e.ENCODE;if(r.visibility=t===e.DECODE,a.visibility=t===e.ENCODE,u===e.DECODE&&t===e.ENCODE){var n=r.getEncoded();n&&(a.cookieValue=n)}else if(u===e.ENCODE&&t===e.DECODE){var i=a.getCookieInfos();i&&(r.cookiesInfo=i)}u=t}o.addEventListener("change",c),i.addEventListener("change",c),c()}))}();
//# sourceMappingURL=main.min.js.map